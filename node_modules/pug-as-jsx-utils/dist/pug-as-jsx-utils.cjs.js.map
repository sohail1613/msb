{"version":3,"file":"pug-as-jsx-utils.cjs.js","sources":["../node_modules/escape-string-regexp/index.js","../src/lib/util.js","../src/lib/pug-syntax.js","../src/lib/template.js","../src/rules/works.js","../src/rules/annotations.js","../src/codemod/codemod.helper.js","../src/codemod/index.js","../src/codemod/addRoleButton.js","../src/index.js"],"sourcesContent":["'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(matchOperatorsRe, '\\\\$&');\n};\n","import jsc from 'jscodeshift';\nimport prettier from 'prettier';\nimport babel from '@babel/core';\nimport escapeStringRegexp from 'escape-string-regexp';\n\nconst reservedWords = [\n  'Object', 'String', 'Number', 'Array',\n  'JSON', 'Math', 'null',\n];\n\nconst isReactElement = node => node.parent.parent.node.type === 'JSXElement' && node.node.name.search(/^[a-z]/) === 0;\nconst arrayUnique = myArray => myArray.filter((v, i, a) => a.indexOf(v) === i);\nconst analyzeJsx = (jsxOutput, options = {}) => {\n  const jsxRoot = jsc(jsxOutput);\n\n  const varsToIgnore = [\n    ...reservedWords,\n    ...(options.ignore || []),\n  ];\n\n  // Remove the use of local parameters.\n  jsxRoot\n    .find(jsc.ArrowFunctionExpression)\n    .replaceWith((nodePath) => {\n      // Get a list of function param names.\n      const funcParamNames = jsc(nodePath.node.params)\n        .nodes()\n        .reduce((prev, param) => {\n          if (param.type === 'ObjectPattern' && param.properties) {\n            return [\n              ...prev,\n              ...param.properties\n                .filter(p => p.type === 'Property' && p.key)\n                .map(p => p.key.name),\n              ...param.properties\n                .filter(p => p.type === 'RestElement' && p.argument && p.argument.type === 'Identifier' && p.argument.name)\n                .map(p => p.argument.name),\n            ];\n          }\n          if (param.type === 'Identifier' && param.name) {\n            return [...prev, param.name];\n          }\n          return prev;\n        }, []);\n\n      nodePath.node.params = [];\n\n      // Remove function parameter usage.\n      jsc(nodePath.node.body)\n        .find(jsc.MemberExpression)\n        .filter((me) => {\n          if (me.node.object && funcParamNames.indexOf(me.node.object.name) !== -1) {\n            return true;\n          }\n          return false;\n        })\n        .remove();\n      jsc(nodePath.node.body)\n        .find(jsc.Identifier)\n        .filter((p) => {\n          const parentNodeType = p.parent.node.type;\n          return parentNodeType !== 'JSXAttribute'\n            && !(parentNodeType === 'MemberExpression' && p.parent.node.computed === false)\n            && funcParamNames.indexOf(p.node.name) !== -1;\n        })\n        .remove();\n      // console.log(jsc(nodePath).toSource());\n      return nodePath.node;\n    });\n\n  // Remove this pattern: const { props1, props2 } = params;\n  jsxRoot\n    .find(jsc.VariableDeclaration)\n    .filter(p => p.node.declarations[0].init.name === 'params')\n    .remove();\n\n  const useThis = jsxRoot\n    .find(jsc.MemberExpression, {\n      object: { type: 'ThisExpression' },\n      property: { type: 'Identifier' },\n    })\n    .nodes().length > 0;\n\n  // Get used variable names.\n  let variables = [];\n  jsxRoot\n    .find(jsc.Identifier)\n    .filter((p) => {\n      if (p.parent.node.type === 'MemberExpression'\n        && p.parent.node.object === p.node\n      ) {\n        return true;\n      }\n      if (p.parent.node.type === 'JSXExpressionContainer'\n        && p.parent.node.expression === p.node\n      ) {\n        return true;\n      }\n      if (p.parent.node.type === 'Property'\n        && p.parent.parent.node.type === 'ObjectExpression'\n        && ['CallExpression', 'JSXExpressionContainer'].indexOf(p.parent.parent.parent.node.type) !== -1\n        && p.parent.node.key === p.node\n      ) {\n        return false;\n      }\n      // exclude nested JSXElement. ex) Modal.Body\n      if (p.parent.node.type === 'JSXMemberExpression' && p.parent.node.property === p.node) {\n        return false;\n      }\n      if (isReactElement(p)\n        || p.parent.node.type === 'JSXAttribute'\n        || (p.parent.node.type === 'MemberExpression' && p.parent.node.computed === false)\n      ) {\n        return false;\n      }\n      // exclude object key\n      if (p.parent.node.type === 'Property' && p.parent.node.key === p.node) {\n        return false;\n      }\n      // exclude require call\n      if (p.parent.node.type === 'CallExpression' && p.node.name === 'require') {\n        return false;\n      }\n      return true;\n    })\n    .forEach((p) => {\n      variables = [...variables, p.node.name];\n    });\n  variables = arrayUnique(variables.filter(e => varsToIgnore.indexOf(e) === -1)).sort();\n\n  // Get require.\n  let requires = {};\n  jsxRoot\n    .find(jsc.JSXAttribute)\n    .filter((p) => {\n      const { value } = p.node;\n      if (value.type === 'JSXExpressionContainer') {\n        const { expression } = value;\n        if (expression && expression.type === 'CallExpression' && expression.callee && expression.callee.name === 'require') {\n          return true;\n        }\n      }\n      return false;\n    })\n    .forEach((p) => {\n      const { value: { expression } } = p.node;\n      const [ target ] = expression.arguments;\n      if (/^(['\"]).*\\1$/.test(target.raw)) {\n        const key = hashCode(target.value);\n        requires[`require\\\\(${escapeStringRegexp(target.raw)}\\\\)`] = [ `require_${key}`, target.value ];\n      }\n    });\n\n  return {\n    useThis,\n    useMacro: !!variables.find(e => e === '__macro'),\n    useFragment: !!variables.find(e => e === 'Fragment'),\n    useRequire: !!Object.keys(requires).length,\n    variables: variables.filter(e => ['__macro', 'Fragment'].indexOf(e) === -1),\n    requires,\n  };\n};\n\nconst hashCode = (str) => {\n  let hash = 0;\n  if (typeof str === 'object' && str !== null) {\n    str = JSON.stringify(str);\n  }\n  if (!str || str.length === 0) {\n    return hash;\n  }\n  let i = 0;\n  const len = str.length;\n  while (i < len) {\n    const chr = str.charCodeAt(i);\n    hash = ((hash << 5) - hash) + chr;\n    hash |= 0;\n    i += 1;\n  }\n  const base16 = hash.toString(16).replace(/[^a-z0-9]/g, '');\n  const base36 = hash.toString(36).replace(/[^a-z0-9]/g, '');\n  hash = (parseInt(base16.substr(0, 1), 16) + 10).toString(36) + base36;\n  return hash;\n};\n\nfunction entries(object) {\n  return Object.keys(object).map(key => [key, object[key]]);\n}\n\nfunction values(object) {\n  return Object.keys(object).map(key => object[key]);\n}\n\nfunction gerResolveDict(resolveOpt = {}) {\n  const resolveDict = entries(resolveOpt).map(([moduleName, detail]) => {\n    const options = typeof detail === 'string' ? { name: detail } : detail;\n    let member = options.member || {};\n    if (Array.isArray(member)) {\n      member = member\n        .filter(memberName => memberName && typeof memberName === 'string')\n        .reduce((prev, memberName) => ({ ...prev, [memberName]: memberName }), {});\n    }\n    return {\n      ...options,\n      moduleName,\n      member: entries(member).reduce((prev, [alias, memberName]) => ({\n        ...prev,\n        [alias]: memberName && typeof memberName === 'string' ? memberName : alias,\n      }), {}),\n    };\n  });\n\n  return resolveDict.reduce((prev, { moduleName, name, member }) => {\n    const next = { ...prev };\n    if (name) {\n      next[name] = { moduleName, type: 'name', name };\n    }\n    entries(member).forEach(([alias, memberName]) => {\n      next[alias] = { moduleName, type: 'member', name: memberName };\n      if (alias !== memberName) {\n        next[alias].alias = alias;\n      }\n    });\n    return next;\n  }, {});\n}\n\nfunction getImports(variables, resolveOpt = {}) {\n  const resolveDict = gerResolveDict(resolveOpt);\n  const { used, imports } = variables.reduce((prev, each) => {\n    const matched = resolveDict[each];\n    if (!matched) {\n      return prev;\n    }\n    const next = { ...prev };\n    next.used.push(each);\n    const item = (prev.imports && prev.imports[matched.moduleName])\n      || { moduleName: matched.moduleName };\n    if (matched.type === 'name') {\n      item.name = matched.name;\n    }\n    if (matched.type === 'member') {\n      const newMember = { name: matched.name };\n      if (matched.alias) {\n        newMember.alias = matched.alias;\n      }\n      item.member = [...(item.member || []), newMember];\n    }\n    return {\n      ...next,\n      imports: {\n        ...next.imports,\n        [item.moduleName]: { ...(next.imports[item.moduleName] || {}), ...item },\n      },\n    };\n  }, { used: [], imports: {} });\n\n  return { used, imports: values(imports) };\n}\n\n\nfunction getUsage({ useThis, variables }) {\n  const { components, params } = variables.reduce((prev, e) => {\n    if (e.search(/^[A-Z]/) === 0 && e.search(/[a-z]/) !== -1) {\n      return { ...prev, components: [...prev.components, e] };\n    }\n    return { ...prev, params: [...prev.params, e] };\n  }, { components: [], params: [] });\n\n  let examples = [];\n  if (components.length > 0) {\n    examples = [\n      '// components',\n      ...components.map(e => `import ${e} from '__modulePath__/${e}';`),\n      '',\n    ];\n  }\n\n  examples = [\n    ...examples,\n    '// jsx',\n    \"import template from './%BASENAME%.pug';\",\n    '',\n    'class Sample extends React.Component {',\n    '  render() {',\n  ];\n\n  if (variables.length === 0) {\n    examples = [\n      ...examples,\n      '    return template();',\n    ];\n  } else {\n    if (params.length > 0) {\n      examples = [\n        ...examples,\n        '    const {',\n        `      ${params.join(', ')}`,\n        '    } = this;',\n        '',\n      ];\n    }\n    examples = [\n      ...examples,\n      useThis ? '    return template.call(this, {' : '    return template({',\n    ];\n    if (params.length > 0) {\n      examples = [\n        ...examples,\n        '      // variables',\n        `      ${params.join(', ')},`,\n      ];\n    }\n    if (components.length > 0) {\n      examples = [\n        ...examples,\n        '      // components',\n        `      ${components.join(', ')},`,\n      ];\n    }\n    examples = [\n      ...examples,\n      '    });',\n    ];\n  }\n  examples = [\n    ...examples,\n    '  }',\n    '}',\n  ];\n\n  return prettier.format(examples.join('\\n'), {\n    parser: 'babel',\n    printWidth: 120,\n    tabWidth: 2,\n    useTabs: false,\n    semi: true,\n    singleQuote: true,\n    jsxSingleQuote: false,\n    bracketSpacing: true,\n    jsxBracketSameLine: false,\n    trailingComma: 'es5',\n  });\n}\n\nfunction removeDupAttrs(pugCode) {\n  return pugCode.replace(/([^\\s])\\(([^()]{0,}?)\\)/g, (whole, p0, p1) => {\n    const matched = ` ${p1.replace(/\\n/g, ' ')} `\n      .replace(/\\s+([a-zA-Z0-9_-]+)(\\s*=\\s*(('.*?')|(\".*?\")))/g, ' $1=$3')    \n      .match(/([a-zA-Z0-9_-]+(\\s*=\\s*(('.*?')|(\".*?\"))){1,})|(?<=^|\\s+)[a-zA-Z0-9_-]+($|\\s+)/g);\n    if (!matched) {\n      return whole;\n    }\n    const attrs = matched\n      .map((e) => {\n        const [key, ...rest] = e.split('=');\n        const value = rest.join('=');\n        return { key, value };\n      })\n      .reduce((prev, { key, value }) => {\n        const next = { ...prev };\n        if (next[key]) {\n          delete next[key];\n        }\n        return { ...next, [key]: value };\n      }, {});\n\n    const replacement = Object.entries(attrs)\n      .map(([k, v]) => (v ? `${k}=${v}` : k))\n      .join(', ');\n    return `${p0}(${replacement})`;\n  });\n}\n\nfunction removeIndent(source) {\n  const lines = source.split(/\\n/);\n  const minIndent = lines.reduce((indentSize, curr) => {\n    const indent = Array(curr.search(/[^\\s]/) + 1).join(' ');\n    if (curr.trim() && (indentSize === null || indent.length < indentSize)) {\n      return indent.length;\n    }\n    return indentSize;\n  }, null);\n  return lines.map(e => e.substr(minIndent || 0)).join('\\n').trim();\n}\n\nfunction removePugComment(pugCode) {\n  return pugCode.split(/\\n/).reduce((prev, curr) => {\n    const indentSize = curr.match(/^\\s*/)[0].length;\n    if (prev.commentIndentSize !== null && (prev.commentIndentSize < indentSize || curr.trim() === '')) {\n      return prev;\n    }\n\n    const hasCommentSymbol = !!curr.match(/^\\s*\\/\\//) && !curr.match(/^\\/\\/\\s+@/);\n    if (hasCommentSymbol) {\n      return { ...prev, commentIndentSize: indentSize };\n    }\n\n    return {\n      commentIndentSize: null,\n      lines: [...prev.lines, curr],\n    };\n  }, { commentIndentSize: null, lines: [] }).lines.join('\\n');\n}\n\nfunction babelTransform(src, filename = '') {\n  let jsCode = src;\n  if (filename) {\n    const basename = filename.split('/').pop().replace(/\\.[a-zA-Z0-9]+$/, '');\n    jsCode = jsCode.replace(/%BASENAME%/g, `./${basename}`);\n  }\n  const { code } = babel.transformSync(jsCode, {\n    presets: ['@babel/preset-react'],\n  });\n  return code;\n}\n\nfunction isTransformOption(target) {\n  if (Array.isArray(target) && target.length === 2 && target[0].constructor && target[0].constructor.name === 'RegExp' && typeof target[1] === 'function') {\n    return true;\n  }\n  return false;\n}\n\nfunction getTransformFuncs(options) {\n  const { transform } = options || {};\n  return ((isTransformOption(transform)\n    ? [transform] : transform) || []).filter(e => isTransformOption(e));\n}\n\nexport {\n  analyzeJsx,\n  hashCode,\n  getImports,\n  getUsage,\n  removeDupAttrs,\n  removeIndent,\n  removePugComment,\n  babelTransform,\n  getTransformFuncs,\n};\n","const lex = require('pug-lexer');\nconst parse = require('pug-parser');\nconst walk = require('pug-walk');\n\nconst transform = function (ast) {\n  const nodes = [];\n  walk(ast, (node, replace) => {\n    let replacement\n    switch (node.type) {\n      case 'Tag':\n        node.attrs.forEach(attr => {\n          let { name, val } = attr;\n          if (name.startsWith('...')) {\n            attr.name = `{${attr.name}}`;\n            attr.val = '\"__rest\"';\n          } else if (!/^(['\"]).*\\1$/.test(val)) {\n            val = !/^\\(.*\\)$/.test(val) ? val : val.substring(1, val.length - 1);\n            attr.val = `\"{${!val.replace ? val : val.replace(/\"/g, '\\\\\"')}}\"`;\n            attr.mustEscape = false;\n          }\n        });\n        break;\n      case 'Code':\n        const { type } = nodes[0] || {};\n        node.val = !(type && [ 'Conditional', 'Each', 'Case' ].includes(type)) ? `\"{${node.val}}\"` : `\"${node.val}\"`;\n        node.mustEscape = false;\n        return;\n      case 'Conditional':\n        {\n          const getNodes = (node) => {\n            const { type, test, consequent, line, column } = node;\n            if (type !== 'Conditional') {\n              return [\n                { type: 'Text', val: '(', line, column },\n                node,\n                { type: 'Text', val: '\\n)', line, column },\n              ];\n            }\n            node.alternate = node.alternate || {\n              type: 'Block',\n              nodes: [ { type: 'Text', val: '\\'\\'', line, column } ],\n              line,\n            }\n            nodes.unshift(node);\n            const alternate = getNodes(node.alternate);\n            nodes.shift();\n            const result = [\n              { type: 'Text', val: `${node.test} ? `, line, column },\n              ...[\n                { type: 'Text', val: '(', line, column },\n                consequent,\n                { type: 'Text', val: ')', line, column },\n              ],\n              { type: 'Text', val: ' : ', line, column },\n              ...alternate,\n            ];\n            return isBracketsRequired(nodes) ? wrapInBrackets(result) : result;\n          }\n          replacement = getNodes(node);\n          replace(replacement);\n          node._last = replacement[replacement.length - 1];\n          replacement = null;\n        }\n        break;\n      case 'Each':\n        {\n          const { obj, val, key, block, line, column } = node;\n          replacement = [\n            { type: 'Text', val: `__macro.for(${obj}).map((${val}${key ? `, ${key}` : ''}) => (`, line, column },\n            block,\n            { type: 'Text', val: '))', line, column },\n          ];\n        }\n        break;\n      case 'Case':\n        {\n          const { type, expr, block, line, column } = node;\n          replacement = [\n            { type: 'Text', val: '(() => {\\n', line, column },\n            { type: 'Text', val: `switch (${expr}) {\\n`, line, column },\n            ...block.nodes.map(node => [\n              node.expr !== 'default' ? { type: 'Text', val: `case ${node.expr}:\\n`, line, column } : { type: 'Text', val: 'default:\\n', line, column },\n              { type: 'Text', val: 'return (', line, column },\n              node.block,\n              { type: 'Text', val: ');\\n', line, column },\n            ]),\n            { type: 'Text', val: '}\\n', line, column },\n            { type: 'Text', val: 'return null;\\n', line, column },\n            { type: 'Text', val: '})()', line, column },\n          ];\n        }\n        break;\n      default:\n        return;\n    }\n    if (replacement) {\n      replace(isBracketsRequired(nodes) ? wrapInBrackets(replacement) : replacement);\n      node._last = replacement[replacement.length - 1];\n      replacement = null;\n    }\n    nodes.unshift(node);\n  }, node => {\n    switch (node.type) {\n      case 'Tag':\n        nodes.shift();\n        break;\n      default:\n        if (nodes[0] && (nodes[0] === node || nodes[0]._last === node)) {\n          nodes.shift();\n        }\n        break;\n    }\n  });\n  return ast;\n}\n\nconst transformString = function (src) {\n  const options = { src };\n  const tokens = lex(src, options);\n  const ast = parse(tokens, options);\n  return transform(ast);\n}\n\nexport { transform, transformString };\n\nfunction isBracketsRequired(nodes) {\n  const { type } = nodes[0] || {};\n  return !type || type === 'Tag';\n}\n\nfunction wrapInBrackets(nodes) {\n  return [\n    { type: 'Text', val: '{' },\n    ...nodes,\n    { type: 'Text', val: '}' },\n  ];\n}\n","const macro = `const __macro = {\n  for: items => ({\n    map: (mapFn) => {\n      let mapFns = [];\n      if (items && items['@@__IMMUTABLE_MAP__@@']) {\n        items.mapEntries(([key, value], i) => {\n          mapFns.push(mapFn(value, key, i));\n        });\n      } else if (items && items['@@__IMMUTABLE_LIST__@@']) {\n        items.forEach((value, i) => {\n          mapFns.push(mapFn(value, i, i));\n        });\n      } else if (Array.isArray(items)) {\n        mapFns = items.map((value, index) => mapFn(value, index, index));\n      } else {\n        mapFns = Object.keys(items || []).map((key, index) => mapFn(items[key], key, index));\n      }\n      return mapFns;\n    },\n  }),\n};\n`;\n\nexport default {\n  macro,\n};\n","import { hashCode } from '../lib/util';\n\nconst works = [\n  // combine the contents of two className attributes.\n  {\n    post: [\n      /\\s+className=(\"([^\"]+)\"(.*)\\s+className={(.*?)}((\\s+[a-zA-Z0-9-]+=)|(\\s*>)))/g,\n      (context, whole, p1, p2, p3, p4, p5) => ` className={\"${p2} \" + (${p4})}${p3} ${p5}`,\n    ],\n  },\n\n  // place a line break between tags\n  { post: [/(>)\\s*(<[a-zA-Z])/g, (context, whole, p1, p2) => `${p1}\\n${p2}`] },\n\n  // keep the jsx syntax before pug.render and return when the conversion is done\n  {\n    pre: [\n      /\\{([^{}]+)\\}/g,\n      (context, whole, p1) => {\n        const content = p1\n          .replace(/^\\{(.*)\\}$/, '$1')\n          .replace(/\\n\\s+\\|\\s+/g, ' ')\n          .replace(/\\\\\\n\\s+/g, ' ');\n        const key = hashCode(content);\n        context[key] = content;\n        return `{__archived_${key}__}`;\n      },\n    ],\n    post: [\n      /\\{__archived_([a-z0-9]+)__\\}/g,\n      (context, whole, p1) => `{${context[p1]}}`,\n    ],\n  },\n\n  // use nested components\n  // eg. Modal.Body\n  {\n    pre: [/(\\s*[A-Z][a-zA-Z0-9]*)\\.([A-Z][a-zA-Z0-9]*)(\\s|\\n|\\()/g, (context, whole, p1, p2, p3) => `${p1}___dot_btw_cpnts___${p2}${p3}`],\n    post: [/___dot_btw_cpnts___/g, '.'],\n  },\n\n  // use regular jsx syntax for tags: __jsx\n  {\n    pre: [/([ (]{1})__jsx=/g, (context, whole, p1) => {\n      context.index = (context.index || 0) + 1;\n      return `${p1}jsx-syntax-${context.index}--=`;\n    }],\n    post: [/jsx-syntax-[0-9]+--=/g, ''],\n  },\n\n  // https://reactjs.org/docs/dom-elements.html#differences-in-attributes\n  // class → className\n  // for → htmlFor\n  { post: [/\\s+class=\"/g, ' className=\"'] },\n  { post: [/\\s+for=\"/g, ' htmlFor=\"'] },\n\n  // comment\n  { post: [/<!--(.*?)-->/g, (context, whole, p1) => `{ /* ${p1.replace(/\\/\\*/g, ' ').replace(/\\*\\//g, ' ').trim()} */ }`] },\n\n  // remove the double quotes surrounding the jsx grammar.\n  { post: [/=\"(\\{.*?\\})[;]{0,1}\"/g, (context, whole, p1) => `=${p1.replace(/&gt;/g, '>').replace(/&lt;/g, '<').replace(/&amp;/g, '&')}`] },\n];\n\nexport default works;\n","const handler = {\n  imports: (current, pattern) => {\n    const [, moduleName, name] = current.match(pattern);\n    return {\n      resolve: { [moduleName]: name },\n      replacement: '',\n    };\n  },\n  decorator: (current, pattern) => {\n    const [,,,, decorator] = current.match(pattern);\n    return {\n      startBlock: `{${decorator}(`,\n      replacement: current.replace(pattern, '$1$2').replace(/\\(\\s*,\\s*/, '('),\n      endBlock: ')}',\n    };\n  },\n  for: (current, pattern) => {\n    const [,,,, parenthesesL, item,, key,, index, parenthesesR, items] = current.match(pattern);\n    let paramKey;\n    let paramIndex = '';\n    if (!parenthesesL && !parenthesesR && !key) {\n      paramKey = 'i';\n    } else if (parenthesesL && parenthesesR && key) {\n      paramKey = key;\n      if (index) {\n        paramIndex = `, ${index}`;\n      }\n    } else {\n      return {\n        startBlock: '',\n        replacement: current,\n        endBlock: '',\n      };\n    }\n    return {\n      startBlock: `{__macro.for(${items}).map((${item}, ${paramKey}${paramIndex}) => (`,\n      replacement: current.replace(pattern, `$1$2key='{${paramKey}}'`),\n      endBlock: '))}',\n    };\n  },\n  repeat: (current, pattern) => {\n    const [,,,, items, item,, index = 'i'] = current.match(pattern);\n    let replacement;\n    if (current.match(/[, ]key\\s*=/)) {\n      replacement = current.replace(pattern, '$1$2');\n    } else {\n      replacement = current.replace(pattern, `$1$2key='{${index}}'`);\n    }\n    replacement = replacement.replace(/^(\\s*[^(]+\\()\\s*,\\s*/, '$1');\n    return {\n      startBlock: `{(${items} || []).map((${item}, ${index}) =>`,\n      replacement,\n      endBlock: ')}',\n    };\n  },\n  if: (current, pattern) => {\n    const [,,,, condition] = current.match(pattern);\n    return {\n      startBlock: `{(${condition}) && (`,\n      replacement: current.replace(pattern, '$1$2').replace(/\\(\\s*,\\s*/, '('),\n      endBlock: ')}',\n    };\n  },\n  unless: (current, pattern) => {\n    const [,,,, condition] = current.match(pattern);\n    return {\n      startBlock: `{!(${condition}) && (`,\n      replacement: current.replace(pattern, '$1$2').replace(/\\(\\s*,\\s*/, '('),\n      endBlock: ')}',\n    };\n  },\n  show: (current, pattern) => ({\n    replacement: current.replace(pattern, (whole, p1, p2, p3, p4) => `${p1 + p2}style='{{ display: (${p4.replace(/\"/g, '\"')} ? \"\" : \"none\") }}'`),\n  }),\n  hide: (current, pattern) => ({\n    replacement: current.replace(pattern, (whole, p1, p2, p3, p4) => `${p1 + p2}style='{{ display: (${p4.replace(/\"/g, '\"')} ? \"none\" : \"\") }}'`),\n  }),\n};\n\nconst annotations = [\n  // imports\n  {\n    pattern: /^\\s*\\/\\/\\s+@import\\s+([^\\s]+)\\s+=>\\s+([^\\s]+)$/,\n    process: handler.imports,\n  },\n\n  // decorator\n  {\n    pattern: /^(\\s*)(.*)(@decorator='\\s*([^\\s]+)\\s*')/,\n    process: handler.decorator,\n  },\n  {\n    pattern: /^(\\s*)(.*)(@decorator=\"\\s*([^\\s]+)\\s*\")/,\n    process: handler.decorator,\n  },\n\n  // for\n  {\n    pattern: /^(\\s*)(.*)(@for='\\s*([(]{0,1})\\s*([^\\s]+)\\s*(,\\s+([a-zA-Z0-9_]+)){0,1}\\s*(,\\s+([a-zA-Z0-9_]+)){0,1}\\s*([)]{0,1})\\s+in\\s+([^\\n]+?)\\s*')/,\n    process: handler.for,\n  },\n  {\n    pattern: /^(\\s*)(.*)(@for=\"\\s*([(]{0,1})\\s*([^\\s]+)\\s*(,\\s+([a-zA-Z0-9_]+)){0,1}\\s*(,\\s+([a-zA-Z0-9_]+)){0,1}\\s*([)]{0,1})\\s+in\\s+([^\\n]+?)\\s*\")/,\n    process: handler.for,\n  },\n\n  // repeat\n  {\n    pattern: /^(\\s*)(.*)(@repeat='\\s*([^\\n]+?)\\s+as\\s+([^\\s]+)\\s*(,\\s+([a-zA-Z0-9_]+)){0,1}\\s*')/,\n    process: handler.repeat,\n  },\n  {\n    pattern: /^(\\s*)(.*)(@repeat=\"\\s*([^\\n]+?)\\s+as\\s+([^\\s]+)\\s*(,\\s+([a-zA-Z0-9_]+)){0,1}\\s*\")/,\n    process: handler.repeat,\n  },\n\n  // if\n  {\n    pattern: /^(\\s*)(.*)(@if='([^']+)')/,\n    process: handler.if,\n  },\n  {\n    pattern: /^(\\s*)(.*)(@if=\"([^\"]+)\")/,\n    process: handler.if,\n  },\n\n  // unless\n  {\n    pattern: /^(\\s*)(.*)(@unless='([^']+)')/,\n    process: handler.unless,\n  },\n  {\n    pattern: /^(\\s*)(.*)(@unless=\"([^\"]+)\")/,\n    process: handler.unless,\n  },\n\n  // show\n  {\n    pattern: /^(\\s*)(.*)(@show='([^']+)')/,\n    process: handler.show,\n  },\n  {\n    pattern: /^(\\s*)(.*)(@show=\"([^\"]+)\")/,\n    process: handler.show,\n  },\n\n  // hide\n  {\n    pattern: /^(\\s*)(.*)(@hide='([^']+)')/,\n    process: handler.hide,\n  },\n  {\n    pattern: /^(\\s*)(.*)(@hide=\"([^\"]+)\")/,\n    process: handler.hide,\n  },\n];\n\nexport default annotations;\n","const j = require('jscodeshift');\nconst babylon = require('@babel/parser');\n\nconst parser = {\n  parse(code) {\n    return babylon.parse(code, {\n      sourceType: 'module',\n      allowImportExportEverywhere: true,\n      allowReturnOutsideFunction: true,\n      startLine: 1,\n      tokens: true,\n      plugins: [\n        'jsx',\n        'asyncGenerators',\n        'bigInt',\n        'classPrivateMethods',\n        'classPrivateProperties',\n        'classProperties',\n        'decorators-legacy',\n        'doExpressions',\n        'dynamicImport',\n        'exportDefaultFrom',\n        'exportExtensions',\n        'exportNamespaceFrom',\n        'functionBind',\n        'functionSent',\n        'importMeta',\n        'nullishCoalescingOperator',\n        'numericSeparator',\n        'objectRestSpread',\n        'optionalCatchBinding',\n        'optionalChaining',\n        ['pipelineOperator', {\n          proposal: 'minimal',\n        }],\n        'throwExpressions',\n        'typescript',\n      ],\n    });\n  },\n};\n\nconst getSource = (source, file) => {\n  const fileExt = file.split('.').pop();\n  if (fileExt === 'ts' || fileExt === 'tsx') {\n    return j(source, {\n      parser,\n    });\n  }\n  return j(source);\n};\n\nexport { getSource };\n","/* eslint-disable no-param-reassign */\nimport j from 'jscodeshift';\nimport { getSource } from './codemod.helper';\n\nconst fs = require('fs');\nconst path = require('path');\nconst glob = require('glob');\n\n// templateFn.call(this, { ... })\nconst isTemplateWithThis = (p, templateFuncs) =>\n  p.node.callee.object && templateFuncs.indexOf(p.node.callee.object.name) !== -1 &&\n  p.node.callee.property && p.node.callee.property.name === 'call';\n\n// templateFn({ ... })\nconst isTemplateWithoutThis = (p, templateFuncs) =>\n  !p.node.callee.object && !p.node.callee.property &&\n  templateFuncs.indexOf(p.node.callee.name) !== -1;\n\nconst compareVariables = (a, b) => {\n  const nameA = a.key.name.replace(/^unused_/, '');\n  const nameB = b.key.name.replace(/^unused_/, '');\n  const priorityA = nameA.search(/^[A-Z]/) !== -1 ? 1 : 0;\n  const priorityB = nameB.search(/^[A-Z]/) !== -1 ? 1 : 0;\n  if (priorityA === priorityB) {\n    if (nameA === nameB) {\n      return 0;\n    }\n    return nameA > nameB ? 1 : -1;\n  }\n  return priorityA > priorityB ? 1 : -1;\n};\n\nconst getLinkedJsFiles = (files) => {\n  const linkedJsFiles = glob.sync(path.join(files.path, '*.{js,jsx,ts,tsx}'))\n    .filter(file => file.search('.pug.transpiled.jsx') === -1)\n    .map((file) => {\n      const content = fs.readFileSync(file, 'utf8');\n      const templateFuncs = getSource(content, file)\n        .find(j.ImportDeclaration)\n        .nodes()\n        .filter((e) => {\n          if (e.specifiers && e.specifiers.length === 1 &&\n            e.source.value.search('./') === 0 &&\n            path.join(files.path, e.source.value) === path.join(files.path, files.pug)\n          ) {\n            return true;\n          }\n          return false;\n        })\n        .map(e => e.specifiers[0].local.name);\n      return { file, content, templateFuncs };\n    })\n    .filter(e => e.templateFuncs.length > 0);\n  return linkedJsFiles;\n};\n\n\nconst codemod = ({ useThis, variables }, resourcePath) => {\n  try {\n    const filePath = resourcePath.split(path.sep).join('/');\n    const files = {\n      path: filePath.replace(/\\/[^/]+$/, ''),\n      pug: `./${filePath.replace(/\\.[a-zA-Z0-9]+$/, '').split('/').pop()}.pug`,\n    };\n\n    const printOptions = {\n      quote: 'single',\n      trailingComma: true,\n    };\n\n    const jsFiles = getLinkedJsFiles(files);\n\n    jsFiles.forEach(({ file, content, templateFuncs }) => {\n      let commentRemoved = content;\n      getSource(content, file)\n      .find(j.CallExpression)\n      .filter(ce =>\n        isTemplateWithThis(ce, templateFuncs) || isTemplateWithoutThis(ce, templateFuncs),\n      )\n      .forEach((ce) => {\n        const templateFuncName = ce.node.callee.object ?\n          ce.node.callee.object.name : ce.node.callee.name;\n\n        commentRemoved = commentRemoved.replace(new RegExp(`${templateFuncName}(.call)?\\\\([\\\\s\\\\S]+?}\\\\);`, 'g'), whole =>\n          whole.replace(/\\/\\/.*?\\n/g, '\\n'));\n      });\n\n      const breadcrumbs = {};\n\n      const root = getSource(commentRemoved, file)\n      .find(j.CallExpression)\n      .filter(ce =>\n        isTemplateWithThis(ce, templateFuncs) || isTemplateWithoutThis(ce, templateFuncs),\n      )\n      .forEach((ce) => {\n        const withThis = isTemplateWithThis(ce, templateFuncs);\n\n        const templateFuncName = ce.node.callee.object ?\n          ce.node.callee.object.name : ce.node.callee.name;\n\n        let variableExists = false;\n        let componentExists = false;\n        let properties = (((ce.node.arguments || [])[withThis ? 1 : 0] || {}).properties || [])\n          .map((p) => {\n            const pureName = p.key.name.replace(/^unused_/, '');\n            if (variables.indexOf(pureName) !== -1) {\n              p.key.name = pureName;\n            } else if (variables.indexOf(p.key.name) === -1) {\n              p.key.name = `unused_${pureName}`;\n            }\n            delete p.comments;\n            return p;\n          });\n\n        const oldVars = properties.map(p => p.key.name);\n\n        properties = [\n          ...properties,\n          ...variables\n            .filter(p => oldVars.indexOf(p) === -1)\n            .map(e => j.objectProperty(\n                j.identifier(e),\n                j.identifier(e),\n              )),\n        ]\n          .sort(compareVariables)\n          .map((p) => {\n            if (!variableExists && p.key.name.search(/^[A-Z]/) === -1) {\n              p.comments = [j.commentLine(' variables')];\n              variableExists = true;\n            }\n            if (!componentExists && p.key.name.search(/^[A-Z]/) !== -1) {\n              p.comments = [j.commentLine(' components')];\n              componentExists = true;\n            }\n            if (p.value.type === 'JSXElement') {\n              const jsxCode = j(p.value).toSource().trim();\n              // Wrap jsx code with parenthesis: keep\n              if (jsxCode.search(/^\\(/) === -1) {\n                const key = `jsx__${Math.random().toString(36).substr(-6)}`;\n                breadcrumbs[key] = jsxCode;\n                p.value = j.literal(key);\n              }\n            }\n            p.shorthand = p.key.name === p.value.name;\n            return p;\n          });\n        if (useThis) {\n          ce.node.callee = j.memberExpression(\n            j.identifier(templateFuncName),\n            j.identifier('call'),\n          );\n          ce.node.arguments = [\n            j.thisExpression(),\n            (properties.length > 0 ? j.objectExpression(properties) : null),\n          ].filter(e => e);\n        } else {\n          ce.node.callee = j.identifier(templateFuncName);\n          ce.node.arguments = [\n            (properties.length > 0 ? j.objectExpression(properties) : null),\n          ].filter(e => e);\n        }\n      });\n\n      // Wrap jsx code with parenthesis: write down\n      let result = Object.keys(breadcrumbs)\n      .reduce((prev, key) =>\n        prev.replace(new RegExp(`\\n(\\\\s+)(.*?):\\\\s+'${key}'`), (whole, p1, p2) =>\n          `\\n${p1}${p2}: (\\n${breadcrumbs[key].split('\\n').map(e => `${p1}  ${e}`).join('\\n')}\\n${p1})`)\n      , root.toSource(printOptions));\n\n      templateFuncs.forEach((templateFunc) => {\n        result = result.replace(new RegExp(`${templateFunc}(.call)?\\\\([\\\\s\\\\S]+?}\\\\);`, 'g'), whole =>\n        whole.replace(/\\n\\s*\\n/g, '\\n'));\n      });\n\n      if (result !== content) {\n        fs.writeFileSync(file, result, 'utf8');\n      }\n    });\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nexport default codemod;\n","/* eslint-disable no-param-reassign */\nimport j from 'jscodeshift';\nimport { getSource } from './codemod.helper';\n\nconst addRoleAttr = (content) => {\n  const jsxRoot = getSource(content, 'generated.jsx')\n  jsxRoot.find(j.JSXOpeningElement)\n    .filter((e) => {\n      const node = e.node || {};\n      const tagName = node.name && node.name.name;\n      const attrs = (node.attributes || []).map(e => e.name && e.name.name);\n      return !['a', 'button'].includes(tagName) &&\n        attrs.includes('onClick') && \n        !attrs.includes('role');\n    }).forEach((e) => {\n      e.node.attributes = [\n        ...e.node.attributes,\n        j.jsxAttribute(j.jsxIdentifier('role'), j.stringLiteral('button')),\n      ];\n    });\n\n  return jsxRoot.toSource({\n    quote: 'single',\n    trailingComma: true,\n  });\n};\n\nexport default addRoleAttr;\n","import pug from 'pug';\nimport prettier from 'prettier';\nimport {\n  analyzeJsx, hashCode, getImports, getUsage, removeDupAttrs,\n  removeIndent, removePugComment, babelTransform, getTransformFuncs,\n} from './lib/util';\nimport { transform } from './lib/pug-syntax';\nimport template from './lib/template';\nimport works from './rules/works';\nimport annotations from './rules/annotations';\nimport codemod from './codemod';\nimport addRoleButton from './codemod/addRoleButton';\n\nconst path = require('path');\nconst generateCode = require('pug-code-gen');\nconst runtimeWrap = require('pug-runtime/wrap');\n\nconst jsxPrettierOptions = {\n  parser: 'babel',\n  printWidth: 120,\n  tabWidth: 2,\n  useTabs: false,\n  semi: false,\n  singleQuote: true,\n  jsxSingleQuote: false,\n  bracketSpacing: true,\n  jsxBracketSameLine: false,\n};\n\nconst analyzeJsxOptions = {\n  ignore: ['React'],\n};\n\nconst resolveModule = (moduleName, rootDir) => {\n  if (moduleName && rootDir) {\n    return moduleName.replace(/^@\\//, `${rootDir}/`);\n  }\n  return moduleName;\n};\n\nconst processJsxCode = (jsxCode, options, localWorks, annot, resolves) => {\n  // post-processing pug.render\n  // post-processing is performed in the reverse order of pre-processing\n  jsxCode = localWorks\n    .reverse()\n    .filter(({ post }) => post && post.length === 2)\n    .map(({ post, context }) => [...post, context])\n    .reduce((prev, [pattern, replaceFn, context]) => {\n      if (typeof replaceFn !== 'function') {\n        return prev.replace(pattern, replaceFn);\n      }\n      return prev.replace(pattern, (...args) => replaceFn(context, ...args));\n    }, jsxCode);\n\n  // return the tag with the jsx block defined in the annotations\n  jsxCode = Object.keys(annot)\n    .reduce((prev, key) => prev\n      .replace(new RegExp(`<annot_${key}>`, 'g'), annot[key].startBlock.trim())\n      .replace(new RegExp(`</annot_${key}>`, 'g'), annot[key].endBlock.trim()),\n    jsxCode);\n\n  jsxCode = getTransformFuncs(options).reduce((prev, [pattern, replaceFn]) => {\n    const regexp = new RegExp(new RegExp(pattern, '').toString().replace(/^\\/([\\s\\S]+)\\/$/, '([\\\\s\\\\S])($1)([\\\\s\\\\S])'), 'g');\n    return ` ${prev} `.replace(regexp, (...all) => {\n      const original = all.shift();\n      const args = all.slice(0, all.length - 2);\n      const preChar = args.shift();\n      const postChar = args.pop();\n      const type = preChar === '\"' && postChar === '\"' ? 'attribute' : 'text';\n      const replaced = replaceFn(type, ...args);\n      if (typeof replaced === 'string') {\n        return type === 'text' ? `${preChar}${replaced}${postChar}` : replaced;\n      }\n      return original;\n    });\n  }, jsxCode);\n\n  // remove the outer brackets\n  jsxCode = jsxCode.replace(/^\\s*{([\\s\\S]+)}\\s*$/, '$1');\n\n  // fix rest props\n  jsxCode = jsxCode.replace(/({\\.\\.\\..+})=\"__rest\"/g, '$1');\n\n  try {\n    jsxCode = prettier.format(`(${jsxCode})`, jsxPrettierOptions);\n  } catch (err) {\n    jsxCode = prettier.format(`<>${jsxCode}</>`, jsxPrettierOptions);\n  }\n\n  // autofix features.\n  if (options.autoFix) {\n    jsxCode = addRoleButton(jsxCode);\n  }\n\n  let result = { jsx: jsxCode.trim().replace(/(^;|;$)/g, '') };\n  if (options.analyze) {\n    const analyzed = analyzeJsx(result.jsx, analyzeJsxOptions);\n    const { used, imports } = getImports(analyzed.variables, resolves);\n    const variables = analyzed.variables.filter(e => used.indexOf(e) === -1);\n    if (analyzed.useRequire) {\n      Object.entries(analyzed.requires).forEach(([ search, [ replacement ] ]) => result.jsx = result.jsx.replace(new RegExp(search, 'g'), replacement));\n    }\n    result = {\n      ...result,\n      ...analyzed,\n      variables,\n      imports: imports.map(e => ({\n        ...e,\n        moduleName: e.moduleName.replace(/^(\\.[a-zA-Z0-9.]+)$/, '%BASENAME%$1'),\n      })),\n    };\n  }\n\n  return result;\n}\n\nconst toJsx = (source, options = {}) => {\n  const localWorks = works.map(({ pre, post }) => ({ pre, post, context: {} }));\n\n  // force at least two spaces between depths\n  let pugCode = `\\n${source.split(/\\r\\n/).join('\\n').split(/\\n/)\n    .map(e => e.replace(/^(\\t*)/, (whole, p1) => p1.replace(/\\t/g, '  ')))\n    .map(e => e.replace(/^(\\s*)/, (whole, p1) => p1.replace(/\\s/g, '  ')))\n    .join('\\n')}\\n`;\n  pugCode = removeIndent(pugCode);\n  pugCode = removePugComment(pugCode);\n\n  // convert annotations to tags with preprocessing\n  const { lines, annot, resolves } = pugCode\n    .split(/\\n/)\n    .reduce((dict, curr) => {\n      let stepBack = '';\n      const indent = Array(curr.search(/[^\\s]/) + 1).join(' ');\n      annotations.forEach((annotation) => {\n        if (curr.match(annotation.pattern)) {\n          const {\n            startBlock, replacement, endBlock, resolve,\n          } = annotation.process(curr, annotation.pattern);\n          if (resolve) {\n            dict.resolves = { ...dict.resolves, ...resolve };\n          }\n          if (startBlock || endBlock) {\n            const content = { startBlock, endBlock };\n            const key = hashCode(content);\n            dict.lines.push(`${indent}annot_${key}`);\n            dict.annot[key] = content;\n            stepBack = ' ';\n          }\n          curr = replacement;\n        }\n      });\n      dict.lines.push(`${stepBack}${curr}`);\n      return dict;\n    }, { lines: [], annot: {}, resolves: { ...options.resolve } });\n  if (!options.analyze && Object.keys(resolves).length > 0) {\n    options.analyze = true;\n  }\n  pugCode = removeIndent(lines.join('\\n'));\n\n  // pre-processing pug.render\n  pugCode = localWorks\n    .filter(({ pre }) => pre && pre.length === 2)\n    .map(({ pre, context }) => [...pre, context])\n    .reduce((prev, [pattern, replaceFn, context]) => {\n      if (typeof replaceFn !== 'function') {\n        return prev.replace(pattern, replaceFn);\n      }\n      return prev.replace(pattern, (...args) => replaceFn(context, ...args));\n    }, pugCode);\n\n  // remove duplicate attributes\n  pugCode = removeDupAttrs(pugCode);\n\n  const mixins = {};\n  const plugins = [{\n    postParse: (ast) => {\n      ast = transform(ast);\n      ast.nodes\n        .filter(({ type, call }) => type === 'Mixin' && !call)\n        .forEach(({ name, block }) => mixins[name] = block);\n      return ast;\n    }\n  }];\n\n  // pug to html\n  const pugOptions = { pretty: true, filename: options.resourcePath, basedir: options.rootDir };\n  const jsxCode = `\\n${pug.render(pugCode, { plugins, ...pugOptions })}\\n`;\n\n  const result = processJsxCode(jsxCode, options, localWorks, annot, resolves);\n  Object.entries(mixins).forEach(([ name, ast ]) => {\n    const code = runtimeWrap(generateCode(ast, pugOptions))(pugOptions);\n    const { jsx, useThis, useMacro, useFragment, variables, requires, imports } = processJsxCode(code, options, localWorks, annot, resolves);\n    Object.entries({ useMacro, useFragment }).forEach(([ name, value ]) => result[name] = result[name] || value);\n    Object.assign(result.requires, requires);\n    if (imports.length) {\n      result.imports = Array.from(new Set(result.imports.concat(imports)));\n    }\n    mixins[name] = { jsx, useThis, variables };\n  });\n  result.mixins = mixins;\n\n  return result;\n};\n\nconst pugToJsx = (source, userOptions = {}) => {\n  const options = {\n    template: false,\n    analyze: false,\n    resolve: {},\n    transform: [],\n    ...userOptions,\n  };\n  let { rootDir } = options;\n  if (rootDir && options.resourcePath) {\n    const [, ...rest] = options.resourcePath.split(rootDir);\n    rootDir = rest\n      .join(rootDir)\n      .split(path.sep)\n      .filter((e, i, arr) => e && i < arr.length - 1)\n      .fill('..')\n      .join('/');\n  }\n  let result = toJsx(source, {\n    ...options,\n    analyze: options.template || options.analyze,\n  });\n\n  const getPragma = (type) => {\n    switch ((type || '').trim().toLowerCase()) {\n      case 'preact':\n      case 'h':\n        return ['preact', 'Preact'];\n      case 'mithril':\n      case 'm':\n        return ['mithril', 'm'];\n      default:\n        return ['react', 'React'];\n    }\n  };\n\n  const [_module, _import] = getPragma(options.pragma);\n\n  if (options.template) {\n    result.imports = result.imports.concat(Object.values(result.requires).map(([ name, moduleName ]) => ({ name, moduleName })));\n    const jsxTemplate = [\n      result.useFragment\n        ? `import ${_import}, { Fragment } from '${_module}';`\n        : `import ${_import} from '${_module}';`,\n      ...(result.imports || []).map(({ name, member, moduleName }) => {\n        const chunk = [\n          name,\n          member && member.length > 0 && `{ ${member.map(e => (e.alias ? `${e.name} as ${e.alias}` : e.name)).join(', ')} }`,\n        ].filter(e => e).join(', ');\n        return `import ${chunk} from '${resolveModule(moduleName, rootDir)}';`;\n      }),\n      '',\n      result.useMacro && template.macro,\n      `export default function (${result.variables.length > 0 ? '__params = {}' : ''}) {`,\n      result.variables.length > 0 && `  const { ${result.variables.join(', ')} } = __params;`,\n      '  return (',\n      result.jsx,\n      '  );',\n      '}',\n      ...Object.entries(result.mixins).map(([ name, { jsx, variables } ]) => [\n        '\\n',\n        `export function ${name}(${variables.length > 0 ? '__params = {}' : ''}) {`,\n        variables.length > 0 && `  const { ${variables.join(', ')} } = __params;`,\n        '  return (',\n        jsx,\n        '  );',\n        '}',\n      ].filter(Boolean).join('\\n')),\n    ].filter(e => e !== false).join('\\n');\n    result = {\n      ...result,\n      jsxTemplate: prettier.format(jsxTemplate, {\n        ...jsxPrettierOptions,\n        semi: true,\n      }),\n      usage: getUsage(result),\n    };\n  }\n\n  return result;\n};\n\nexport {\n  pugToJsx,\n  analyzeJsx,\n  removeIndent,\n  babelTransform,\n  codemod,\n  addRoleButton,\n};\n"],"names":["matchOperatorsRe","module","str","TypeError","replace","reservedWords","isReactElement","node","parent","type","name","search","arrayUnique","myArray","filter","v","i","a","indexOf","analyzeJsx","jsxOutput","options","jsxRoot","jsc","varsToIgnore","ignore","find","ArrowFunctionExpression","replaceWith","nodePath","funcParamNames","params","nodes","reduce","prev","param","properties","p","key","map","argument","body","MemberExpression","me","object","remove","Identifier","parentNodeType","computed","VariableDeclaration","declarations","init","useThis","property","length","variables","expression","forEach","e","sort","requires","JSXAttribute","value","callee","target","arguments","test","raw","hashCode","escapeStringRegexp","useMacro","useFragment","useRequire","Object","keys","hash","JSON","stringify","len","chr","charCodeAt","base16","toString","base36","parseInt","substr","entries","values","gerResolveDict","resolveOpt","resolveDict","moduleName","detail","member","Array","isArray","memberName","alias","next","getImports","used","imports","each","matched","push","item","newMember","getUsage","components","examples","join","prettier","format","parser","printWidth","tabWidth","useTabs","semi","singleQuote","jsxSingleQuote","bracketSpacing","jsxBracketSameLine","trailingComma","removeDupAttrs","pugCode","whole","p0","p1","match","attrs","rest","split","replacement","k","removeIndent","source","lines","minIndent","indentSize","curr","indent","trim","removePugComment","commentIndentSize","hasCommentSymbol","babelTransform","src","filename","jsCode","basename","pop","code","babel","transformSync","presets","isTransformOption","constructor","getTransformFuncs","transform","lex","require","parse","walk","ast","attr","val","startsWith","substring","mustEscape","includes","getNodes","consequent","line","column","alternate","unshift","shift","result","isBracketsRequired","wrapInBrackets","_last","obj","block","expr","macro","works","post","context","p2","p3","p4","p5","pre","content","index","handler","current","pattern","resolve","decorator","startBlock","endBlock","for","parenthesesL","parenthesesR","items","paramKey","paramIndex","repeat","if","condition","unless","show","hide","annotations","process","j","babylon","sourceType","allowImportExportEverywhere","allowReturnOutsideFunction","startLine","tokens","plugins","proposal","getSource","file","fileExt","fs","path","glob","isTemplateWithThis","templateFuncs","isTemplateWithoutThis","compareVariables","b","nameA","nameB","priorityA","priorityB","getLinkedJsFiles","files","linkedJsFiles","sync","readFileSync","ImportDeclaration","specifiers","pug","local","codemod","resourcePath","filePath","sep","printOptions","quote","jsFiles","commentRemoved","CallExpression","ce","templateFuncName","RegExp","breadcrumbs","root","withThis","variableExists","componentExists","pureName","comments","oldVars","objectProperty","identifier","commentLine","jsxCode","toSource","Math","random","literal","shorthand","memberExpression","thisExpression","objectExpression","templateFunc","writeFileSync","err","console","error","addRoleAttr","JSXOpeningElement","tagName","attributes","jsxAttribute","jsxIdentifier","stringLiteral","generateCode","runtimeWrap","jsxPrettierOptions","analyzeJsxOptions","resolveModule","rootDir","processJsxCode","localWorks","annot","resolves","reverse","replaceFn","args","regexp","all","original","slice","preChar","postChar","replaced","autoFix","addRoleButton","jsx","analyze","analyzed","toJsx","dict","stepBack","annotation","mixins","postParse","call","pugOptions","pretty","basedir","render","assign","from","Set","concat","pugToJsx","userOptions","template","arr","fill","getPragma","toLowerCase","_module","_import","pragma","jsxTemplate","chunk","Boolean","usage"],"mappings":"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"}